<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.74969068bc41c41066d1.css">body{font-family:Oxygen,sans-serif;font-size:18px;line-height:1.6;color:#3b3a47;background:#f4eeec;margin:0;padding:0 0 128px}h1,h2,h3,h4,h5{font-weight:400;line-height:1.4}h1,h2,h3{font-family:Radley,serif}h1{font-size:48px;line-height:1.2}h2{font-size:34px;margin-bottom:.4em}h3{font-size:24px}img{max-width:100%;height:auto;margin:auto;display:block}img.small{width:auto;margin:0}.subtitle{font-size:12px;letter-spacing:.1em;text-transform:uppercase;margin:0;padding:.2em 0}pre{width:100%;overflow-x:auto}.wrap{padding:16px;max-width:720px;margin:auto}@media only screen and (min-width:720px){.wrap{padding:32px}}.wrap.wide{max-width:100%}@media only screen and (min-width:720px){.flex-container{display:flex;margin-left:-16px;margin-right:-16px}}.read-more-wrap{max-width:1200px}.read-more-box{margin-bottom:64px}@media only screen and (min-width:720px){.read-more-box{flex:1 1 33.33%;padding:0 16px}}.back-link{margin-top:128px;border-top:1px solid}nav>ul{list-style:none;margin-left:0;padding-left:0;display:flex;flex-flow:row wrap;justify-content:flex-start;align-items:center}nav a{padding:.6em 0;margin-right:1.2em}nav a.active{font-weight:700}nav a.active:before{content:"> "}</style><meta name="generator" content="Gatsby 2.9.0"/><title data-react-helmet="true">Responsive utility CSS spacing</title><link data-react-helmet="true" rel="stylesheet" href="//fonts.googleapis.com/css?family=Oxygen|Radley" type="text/css"/><meta data-react-helmet="true" name="description" content="Personal portfolio of James Maclean, showcasing frontend development, UX and UI work."/><link as="script" rel="preload" href="/webpack-runtime-245c625d4e8988205e33.js"/><link as="script" rel="preload" href="/app-fd71f2aba18f723d365a.js"/><link as="script" rel="preload" href="/styles-fac9c4a3e309c7cf3f71.js"/><link as="script" rel="preload" href="/1-d54df72b466c71fbeaf6.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-aa943a92c3cc5dd87ce6.js"/><link as="fetch" rel="preload" href="/page-data/utility-spacing/page-data.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><nav class="wrap"><ul><li><a href="/">home</a></li><li><a href="/about">about</a></li><li><a href="/blog-index">blog index</a></li></ul></nav><div class="wrap"><div>MDX template</div><h1>Responsive utility CSS spacing</h1><h2>The problem</h2><p>When a designer is working on a UI in something like Sketch they will get the spacing to look how they want, normally based on a pre-defined spacing scale.</p><div style="display:block;width:100%;white-space:nowrap;overflow-x:auto"><div style="background-color:#FABCC7;color:#BC4A9E;height:16px;width:16px;margin-right:16px;display:inline-flex;justify-content:center;align-items:center;vertical-align:top;font-size:10px"><span>16</span></div><div style="background-color:#FABCC7;color:#BC4A9E;height:20px;width:20px;margin-right:16px;display:inline-flex;justify-content:center;align-items:center;vertical-align:top;font-size:10px"><span>20</span></div><div style="background-color:#FABCC7;color:#BC4A9E;height:24px;width:24px;margin-right:16px;display:inline-flex;justify-content:center;align-items:center;vertical-align:top;font-size:16px"><span>24</span></div><div style="background-color:#FABCC7;color:#BC4A9E;height:48px;width:48px;margin-right:16px;display:inline-flex;justify-content:center;align-items:center;vertical-align:top;font-size:16px"><span>48</span></div><div style="background-color:#FABCC7;color:#BC4A9E;height:56px;width:56px;margin-right:16px;display:inline-flex;justify-content:center;align-items:center;vertical-align:top;font-size:16px"><span>56</span></div><div style="background-color:#FABCC7;color:#BC4A9E;height:72px;width:72px;margin-right:16px;display:inline-flex;justify-content:center;align-items:center;vertical-align:top;font-size:16px"><span>72</span></div><div style="background-color:#FABCC7;color:#BC4A9E;height:96px;width:96px;margin-right:16px;display:inline-flex;justify-content:center;align-items:center;vertical-align:top;font-size:16px"><span>96</span></div><div style="background-color:#FABCC7;color:#BC4A9E;height:128px;width:128px;margin-right:16px;display:inline-flex;justify-content:center;align-items:center;vertical-align:top;font-size:16px"><span>128</span></div></div><h2>Fist solution - Spacing SASS variables and a class for each</h2><pre><code class="language-SCSS">$space-1: 8px;
$space-2: 16px;
$space-3: 20px;
$space-4: 24px;
$space-5: 32px;
$space-6: 40px;
$space-7: 48px;
$space-8: 56px;
$space-9: 64px;
$space-10: 72px;
</code></pre><p>These are useful for making sure no <a href="https://css-tricks.com/magic-numbers-in-css/">magic-numbers</a> are used and also for stepping up or down the scale to give more or less space in an intuitive way.</p><p>There are a few problems with doing with variables alone:
1. You will write a specific class for  every use, even if al you are doing is adding a little margin.
2. The specific class will need to be set at breakpoints
3. The spacing is the most likely thing to change when a designer is reviewing a UI. Not because its wrong but because of the differences of rendering in design software with sometimes placeholder content and a browser with real content.</p><h2>Second solution - Responsive classes</h2><p>You could make a set of responsive utilities, but unfortunately the spacing on mobile can&#x27;t just be scaled up in a programmatic way to produce a desktop layout. There is as much art as science to the whitespace and you may even use a completely different layout a larger sizes anyway.</p><pre><code class="language-SCSS">$space-5: 32px;
$space-shrink-factor-sm: 0.8;


.margin-b-5 {
    
    margin-bottom: $space-5 * $space-shrink-factor-small;
    
    @media screen and ( min-width: 640px) {
        margin-bottom: $space-5;
    }

}
</code></pre><h2>Third solution - Fully responsive set of utilities</h2><p>After reading the <a href="https://2019.stateofcss.com/">State of CSS 2019</a> I saw that <a href="https://tailwindcss.com/">Tailwindcss</a> had a very high satisfaction rating. There is an ongoing debate on weather CSS utilities are a good thing or not, but my view is that in some cases they are too useful to ignore. I really loved the syntax of the Tailwind so I made a set of utilities that followed the same <!-- -->[breakpoint]<!-- -->:<!-- -->[utility]<!-- --> format in <a href="https://codepen.io/jqim/pen/ydLpVB">Codepen</a>. </p><p>I wanted to make another version with Webpack as a learning exercise.</p><p>Here is how it works ...</p><h3>A sass map of your breakpoints</h3><p>These could be be hooked into an existing set of breakpoints in your frontend code.</p><pre><code class="language-SCSS">$breakpoints:(
  md: 640px,
  lg: 1024px,
  xl: 1200px,
  xxl: 1440px
);
</code></pre><h3>A sass map of your spacing values</h3><p>I find these are best to be hard-coded as variables as the almost never change once set by a designer. Also sometimes a designer will throw logic to the wind and break the mathematical pattern at certain points because sometimes logic doesn&#x27;t look visually pleasing.</p><pre><code class="language-SCSS">/* The variables can be used in component .classes */
$space-1: 8px;
$space-2: 16px;
$space-3: 20px;
...

/* The map is for looping over */
$space: (
    1: $space-1,
    2: $space-2,
    3: $space-3,
    ...
);
</code></pre><h3>A breakpoint mixin to use in the loop</h3><p>You will need a way to programmatically wrap classes in a breakpoint.</p><pre><code class="language-SCSS">@mixin breakpointWrap($screenSize) {
  
  @media screen and ( min-width: map-get($breakpoints, $screenSize) ) {
    @content;
  }
  
};
</code></pre><h3>A loop function to build all the utilities</h3><p>Then a nested for loop of the breakpoints -&gt; spacing values -&gt; .classes</p><pre><code class="language-SCSS">@each $bpKey, $bgVal in $breakpoints {

  @include breakpointWrap($bpKey){

    @each $sKey, $sVal in $space {
      .#{$bpKey}--m-#{$sKey}{
        margin: $sVal;
      }
        .#{$bpKey}--m-b-#{$sKey}{
          margin-bottom: $sVal;
        }
        ...
        /* + top, left and right */
      
      .#{$bpKey}--p-#{$sKey} {
        padding: $sVal;
      }
        .#{$bpKey}--p-b-#{$sKey} {
        padding-bottom: $sVal;
        }
        ...  
        /* + top, left and right */
    };
    
  };

};
</code></pre><p>I opted to leave the base &#x27;small&#x27; size out of the loops so didn&#x27;t have to include any conditions.</p><h3>File size worries</h3><p>This can produce a surprizing amount of CSS even when you are sure you only included the useful stuff.</p><ol><li><label for="breakpoints">Breakpoints:</label><input type="number" name="breakpoints" min="1" max="10" value="5"/></li><li><label for="values">Values:</label><input type="number" name="values" min="1" max="20" value="10"/></li><li><label for="classes">Classes:</label><input type="number" name="classes" min="1" max="20" value="10"/></li></ol><button>Reset</button><h4>Total CSS classes: <!-- -->500</h4><p>500 css classes and weighted in at about 24kb, which seems like a lot for something so simple.</p><h4>Calculator</h4><h3>Purge css</h3><p>But you can use <a href="https://github.com/FullHuman/purgecss-webpack-plugin">purgecss-webpack-plugin</a> to removed unused classes from your source files. I found it takes a few seconds for webpack to do this, so it&#x27;s probably best left to a production build only. Or this might be better as a NPM script.</p><p>Have a look at the working example on <a href="https://github.com/jimmaclean/utility-spacing">GitHub</a></p></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/utility-spacing";window.webpackCompilationHash="15ff9ce6c91eb8d0945a";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-fd71f2aba18f723d365a.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-aa943a92c3cc5dd87ce6.js"],"component---src-pages-about-js":["/component---src-pages-about-js-64f56da42a002bfca121.js"],"component---src-pages-blog-index-js":["/component---src-pages-blog-index-js-f561144e266e0f47c87d.js"],"component---src-pages-index-js":["/component---src-pages-index-js-4bf6e80a1126eb1e4c69.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-aa943a92c3cc5dd87ce6.js" async=""></script><script src="/1-d54df72b466c71fbeaf6.js" async=""></script><script src="/styles-fac9c4a3e309c7cf3f71.js" async=""></script><script src="/app-fd71f2aba18f723d365a.js" async=""></script><script src="/webpack-runtime-245c625d4e8988205e33.js" async=""></script></body></html>